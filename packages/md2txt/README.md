# MD2TXT - Markdown è½¬çº¯æ–‡æœ¬å·¥å…·

é«˜æ€§èƒ½çš„ Markdown åˆ°çº¯æ–‡æœ¬è½¬æ¢å·¥å…·ï¼Œæ”¯æŒæ‰¹é‡å¤„ç†ã€å¹¶å‘è½¬æ¢å’Œæ™ºèƒ½ CPU ä¼˜åŒ–ã€‚

## âœ¨ ä¸»è¦ç‰¹æ€§

- ğŸ“ **Markdown è½¬çº¯æ–‡æœ¬**: ç§»é™¤æ‰€æœ‰ Markdown æ ‡è®°ï¼Œä¿ç•™çº¯æ–‡æœ¬å†…å®¹
- ğŸš€ **é«˜æ€§èƒ½å¤„ç†**: Worker å¤šçº¿ç¨‹å¹¶å‘å¤„ç†ï¼Œå……åˆ†åˆ©ç”¨ CPU èµ„æº
- ğŸ§¹ **æ™ºèƒ½æ¸…ç†**: è‡ªåŠ¨ç§»é™¤é‡å¤çš„é¡µçœ‰é¡µè„šå†…å®¹
- ğŸ“Š **è¿›åº¦è¿½è¸ª**: å®æ—¶æ˜¾ç¤ºè½¬æ¢è¿›åº¦å’ŒçŠ¶æ€
- ğŸ”„ **æ–­ç‚¹ç»­ä¼ **: è·³è¿‡å·²è½¬æ¢æ–‡ä»¶ï¼Œæ”¯æŒå¢é‡å¤„ç†
- âš™ï¸ **åŠ¨æ€ä¼˜åŒ–**: æ ¹æ® CPU ä½¿ç”¨ç‡è‡ªåŠ¨è°ƒæ•´å¹¶å‘æ•°
- ğŸ“ **å®Œæ•´è®°å½•**: done.json è®°å½•å·²å®Œæˆè½¬æ¢ï¼Œerror.json è®°å½•å¤±è´¥æ–‡ä»¶

## ğŸ“¦ ç›®å½•ç»“æ„

```
packages/md2txt/
â”œâ”€â”€ .md/              # è¾“å…¥ç›®å½•ï¼šå­˜æ”¾å¾…è½¬æ¢çš„ Markdown æ–‡ä»¶
â”œâ”€â”€ .txt/             # è¾“å‡ºç›®å½•ï¼šè½¬æ¢åçš„çº¯æ–‡æœ¬æ–‡ä»¶
â”œâ”€â”€ .processed/       # ä¸´æ—¶ç›®å½•ï¼šå¤„ç†è¿‡ç¨‹ä¸­çš„ä¸­é—´æ–‡ä»¶
â”œâ”€â”€ .config/          # é…ç½®ç›®å½•
â”‚   â”œâ”€â”€ done.json     # å·²å®Œæˆè½¬æ¢è®°å½•
â”‚   â””â”€â”€ error.json    # è½¬æ¢å¤±è´¥è®°å½•
â”œâ”€â”€ index.ts          # ä¸»å…¥å£æ–‡ä»¶
â”œâ”€â”€ mdProcessor.ts    # Markdown å¤„ç†æ ¸å¿ƒé€»è¾‘
â”œâ”€â”€ worker.js         # Worker çº¿ç¨‹å¤„ç†
â”œâ”€â”€ doneManager.ts    # å®Œæˆè®°å½•ç®¡ç†
â”œâ”€â”€ errorManager.ts   # é”™è¯¯è®°å½•ç®¡ç†
â””â”€â”€ README.md         # æœ¬æ–‡ä»¶
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å‡†å¤‡ Markdown æ–‡ä»¶

å°†å¾…è½¬æ¢çš„ `.md` æ–‡ä»¶æ”¾å…¥ `.md` ç›®å½•ï¼š

```bash
mkdir -p packages/md2txt/.md
cp your-file.md packages/md2txt/.md/
```

### 2. è¿è¡Œè½¬æ¢

```bash
pnpm start:md2txt
```

### 3. è·å–ç»“æœ

è½¬æ¢å®Œæˆåï¼Œåœ¨ `.txt` ç›®å½•æŸ¥çœ‹çº¯æ–‡æœ¬æ–‡ä»¶ï¼š

```bash
ls packages/md2txt/.txt/
cat packages/md2txt/.txt/your-file.txt
```

## ğŸ“‹ åŠŸèƒ½è¯´æ˜

### Markdown å¤„ç†åŠŸèƒ½

å·¥å…·ä¼šè‡ªåŠ¨å¤„ç†ä»¥ä¸‹ Markdown å…ƒç´ ï¼š

- âœ… **YAML Front Matter**: ç§»é™¤æ–‡ä»¶å¤´éƒ¨çš„å…ƒæ•°æ®
- âœ… **HTML æ ‡ç­¾**: ç§»é™¤æ‰€æœ‰ HTML æ ‡è®°
- âœ… **å›¾ç‰‡**: `![alt](url)` â†’ `alt`
- âœ… **é“¾æ¥**: `[text](url)` â†’ `text`
- âœ… **ä»£ç å—**: ç§»é™¤ ``` æ ‡è®°ï¼Œä¿ç•™ä»£ç å†…å®¹
- âœ… **è¡Œå†…ä»£ç **: `code` â†’ code
- âœ… **æ ‡é¢˜æ ‡è®°**: `# Title` â†’ `Title`
- âœ… **ç²—ä½“/æ–œä½“**: `**text**` / `*text*` â†’ text
- âœ… **åˆ é™¤çº¿**: `~~text~~` â†’ text
- âœ… **åˆ—è¡¨æ ‡è®°**: ç§»é™¤ `- ` / `1. ` ç­‰å‰ç¼€
- âœ… **å¼•ç”¨æ ‡è®°**: ç§»é™¤ `> ` å‰ç¼€
- âœ… **å¤šä½™ç©ºè¡Œ**: æœ€å¤šä¿ç•™åŒæ¢è¡Œ

### æ™ºèƒ½æ¸…ç†

- ğŸ” **é¡µçœ‰é¡µè„šæ£€æµ‹**: è‡ªåŠ¨è¯†åˆ«é‡å¤å‡ºç°çš„å†…å®¹
- ğŸ§¹ **è‡ªåŠ¨ç§»é™¤**: æ¸…ç†æ£€æµ‹åˆ°çš„é‡å¤å†…å®¹

### å¹¶å‘å¤„ç†

- ğŸ’» **å¤šçº¿ç¨‹**: ä½¿ç”¨ Worker çº¿ç¨‹æ± å¹¶å‘å¤„ç†
- ğŸ“ˆ **åŠ¨æ€è°ƒæ•´**: æ ¹æ® CPU ä½¿ç”¨ç‡è‡ªåŠ¨å¢å‡å¹¶å‘æ•°
- ğŸ¯ **ç›®æ ‡ 80%**: ä¿æŒ CPU ä½¿ç”¨ç‡åœ¨ 80% å·¦å³
- âš¡ **æœ€å¤§æ€§èƒ½**: æœ€å¤šå¯å¼€å¯ CPU æ ¸å¿ƒæ•° Ã— 2 ä¸ªçº¿ç¨‹

### çŠ¶æ€ç®¡ç†

#### done.json - å·²å®Œæˆè®°å½•

```json
{
  "completed": [
    {
      "filename": "example.md",
      "timestamp": "2025-11-20T14:30:00.000Z",
      "method": "standard"
    }
  ],
  "lastUpdated": "2025-11-20T14:30:00.000Z"
}
```

#### error.json - é”™è¯¯è®°å½•

```json
{
  "errors": [
    {
      "filename": "broken.md",
      "error": "æ–‡ä»¶è¯»å–å¤±è´¥",
      "timestamp": "2025-11-20T14:30:00.000Z"
    }
  ],
  "lastUpdated": "2025-11-20T14:30:00.000Z"
}
```

## ğŸ”§ ä½¿ç”¨ç¤ºä¾‹

### åŸºæœ¬è½¬æ¢

```bash
# 1. æ”¾å…¥ Markdown æ–‡ä»¶
cp document.md packages/md2txt/.md/

# 2. è¿è¡Œè½¬æ¢
pnpm start:md2txt

# 3. æŸ¥çœ‹ç»“æœ
cat packages/md2txt/.txt/document.txt
```

### æ‰¹é‡å¤„ç†

```bash
# å¤åˆ¶å¤šä¸ªæ–‡ä»¶
cp *.md packages/md2txt/.md/

# æ‰¹é‡è½¬æ¢
pnpm start:md2txt
```

### å¢é‡å¤„ç†

```bash
# ç¬¬ä¸€æ¬¡è½¬æ¢
pnpm start:md2txt  # è½¬æ¢æ‰€æœ‰æ–‡ä»¶

# æ·»åŠ æ–°æ–‡ä»¶
cp new-file.md packages/md2txt/.md/

# ç¬¬äºŒæ¬¡è½¬æ¢ï¼ˆè‡ªåŠ¨è·³è¿‡å·²è½¬æ¢çš„æ–‡ä»¶ï¼‰
pnpm start:md2txt  # åªè½¬æ¢ new-file.md
```

## ğŸ“Š è¾“å‡ºç¤ºä¾‹

### è½¬æ¢å‰ (Markdown)

```markdown
---
title: Example
---

# Hello World

This is **bold** text and this is *italic* text.

Here's a [link](https://example.com) and an image ![alt](image.jpg).

## Code Example

```javascript
console.log("Hello");
```

- List item 1
- List item 2
```

### è½¬æ¢å (çº¯æ–‡æœ¬)

```
Hello World

This is bold text and this is italic text.

Here's a link and an image alt.

Code Example

console.log("Hello");

List item 1

List item 2
```

## ğŸ¯ æ€§èƒ½ä¼˜åŒ–

### CPU ä½¿ç”¨ç‡åŠ¨æ€è°ƒæ•´

- **ä½äº 70%**: å¢åŠ  2 ä¸ªå¹¶å‘çº¿ç¨‹
- **é«˜äº 90%**: å‡å°‘ 1 ä¸ªå¹¶å‘çº¿ç¨‹
- **ç›®æ ‡ 80%**: ä¿æŒæœ€ä½³æ€§èƒ½å¹³è¡¡

### å¹¶å‘é™åˆ¶

- **æœ€å°**: 2 ä¸ªçº¿ç¨‹
- **æœ€å¤§**: CPU æ ¸å¿ƒæ•° Ã— 2
- **åˆå§‹**: 10 ä¸ªçº¿ç¨‹ï¼ˆæˆ–æœ€å¤§å€¼ï¼‰

## ğŸ› æ•…éšœæ’æŸ¥

### é—®é¢˜ï¼šæ‰¾ä¸åˆ° Markdown æ–‡ä»¶

```bash
ğŸ“‚ æœªæ‰¾åˆ°ä»»ä½• Markdown æ–‡ä»¶
ğŸ’¡ è¯·å°† .md æ–‡ä»¶æ”¾åœ¨ /path/to/packages/md2txt/.md ç›®å½•ä¸‹
```

**è§£å†³**: ç¡®ä¿æ–‡ä»¶æ”¾åœ¨æ­£ç¡®çš„ç›®å½•ï¼Œä¸”æ‰©å±•åä¸º `.md`

### é—®é¢˜ï¼šè½¬æ¢å¤±è´¥

æŸ¥çœ‹ `.config/error.json` è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯ï¼š

```bash
cat packages/md2txt/.config/error.json
```

### é—®é¢˜ï¼šé‡å¤è½¬æ¢

å¦‚æœéœ€è¦é‡æ–°è½¬æ¢å·²å®Œæˆçš„æ–‡ä»¶ï¼Œåˆ é™¤ `done.json` ä¸­çš„å¯¹åº”è®°å½•ï¼š

```bash
# é‡æ–°è½¬æ¢æ‰€æœ‰æ–‡ä»¶
rm packages/md2txt/.config/done.json

# æˆ–æ‰‹åŠ¨ç¼–è¾‘ done.json åˆ é™¤ç‰¹å®šæ–‡ä»¶è®°å½•
```

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **æ–‡ä»¶ç¼–ç **: ç¡®ä¿ Markdown æ–‡ä»¶ä½¿ç”¨ UTF-8 ç¼–ç 
2. **æ–‡ä»¶å¤§å°**: å¤§æ–‡ä»¶å¤„ç†æ—¶é—´è¾ƒé•¿ï¼Œè¯·è€å¿ƒç­‰å¾…
3. **å¹¶å‘æ•°**: ç³»ç»Ÿä¼šè‡ªåŠ¨ä¼˜åŒ–ï¼Œæ— éœ€æ‰‹åŠ¨è°ƒæ•´
4. **é”™è¯¯å¤„ç†**: å¤±è´¥çš„æ–‡ä»¶ä¼šè®°å½•åœ¨ error.jsonï¼Œä¸å½±å“å…¶ä»–æ–‡ä»¶

## ğŸ”— ç›¸å…³å·¥å…·

- **html2md**: HTML è½¬ Markdown
- **pdf2md**: PDF è½¬ Markdownï¼ˆæ”¯æŒ OCRï¼‰
- **translator**: æ–‡æœ¬ç¿»è¯‘å·¥å…·

## ğŸ“„ License

ISC
